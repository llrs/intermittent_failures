<!DOCTYPE html>

<html>

<head>

<meta charset="utf-8" />
<meta name="generator" content="pandoc" />
<meta http-equiv="X-UA-Compatible" content="IE=EDGE" />


<meta name="author" content="Lluís Revilla Sancho" />

<meta name="date" content="2022-01-15" />

<title>Packages intermittent failtures</title>

<script src="index_files/header-attrs-2.11/header-attrs.js"></script>
<script src="index_files/jquery-3.6.0/jquery-3.6.0.min.js"></script>
<meta name="viewport" content="width=device-width, initial-scale=1" />
<link href="index_files/bootstrap-3.3.5/css/bootstrap.min.css" rel="stylesheet" />
<script src="index_files/bootstrap-3.3.5/js/bootstrap.min.js"></script>
<script src="index_files/bootstrap-3.3.5/shim/html5shiv.min.js"></script>
<script src="index_files/bootstrap-3.3.5/shim/respond.min.js"></script>
<style>h1 {font-size: 34px;}
       h1.title {font-size: 38px;}
       h2 {font-size: 30px;}
       h3 {font-size: 24px;}
       h4 {font-size: 18px;}
       h5 {font-size: 16px;}
       h6 {font-size: 12px;}
       code {color: inherit; background-color: rgba(0, 0, 0, 0.04);}
       pre:not([class]) { background-color: white }</style>
<script src="index_files/jqueryui-1.11.4/jquery-ui.min.js"></script>
<link href="index_files/tocify-1.9.1/jquery.tocify.css" rel="stylesheet" />
<script src="index_files/tocify-1.9.1/jquery.tocify.js"></script>
<script src="index_files/navigation-1.1/tabsets.js"></script>
<script src="index_files/navigation-1.1/codefolding.js"></script>
<link href="index_files/highlightjs-9.12.0/default.css" rel="stylesheet" />
<script src="index_files/highlightjs-9.12.0/highlight.js"></script>
<link href="index_files/tabwid-1.0.0/tabwid.css" rel="stylesheet" />

<style type="text/css">
  code{white-space: pre-wrap;}
  span.smallcaps{font-variant: small-caps;}
  span.underline{text-decoration: underline;}
  div.column{display: inline-block; vertical-align: top; width: 50%;}
  div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
  ul.task-list{list-style: none;}
    </style>

<style type="text/css">code{white-space: pre;}</style>
<script type="text/javascript">
if (window.hljs) {
  hljs.configure({languages: []});
  hljs.initHighlightingOnLoad();
  if (document.readyState && document.readyState === "complete") {
    window.setTimeout(function() { hljs.initHighlighting(); }, 0);
  }
}
</script>








<style type = "text/css">
.main-container {
  max-width: 940px;
  margin-left: auto;
  margin-right: auto;
}
img {
  max-width:100%;
}
.tabbed-pane {
  padding-top: 12px;
}
.html-widget {
  margin-bottom: 20px;
}
button.code-folding-btn:focus {
  outline: none;
}
summary {
  display: list-item;
}
pre code {
  padding: 0;
}
</style>



<!-- tabsets -->

<style type="text/css">
.tabset-dropdown > .nav-tabs {
  display: inline-table;
  max-height: 500px;
  min-height: 44px;
  overflow-y: auto;
  border: 1px solid #ddd;
  border-radius: 4px;
}

.tabset-dropdown > .nav-tabs > li.active:before {
  content: "";
  font-family: 'Glyphicons Halflings';
  display: inline-block;
  padding: 10px;
  border-right: 1px solid #ddd;
}

.tabset-dropdown > .nav-tabs.nav-tabs-open > li.active:before {
  content: "&#xe258;";
  border: none;
}

.tabset-dropdown > .nav-tabs.nav-tabs-open:before {
  content: "";
  font-family: 'Glyphicons Halflings';
  display: inline-block;
  padding: 10px;
  border-right: 1px solid #ddd;
}

.tabset-dropdown > .nav-tabs > li.active {
  display: block;
}

.tabset-dropdown > .nav-tabs > li > a,
.tabset-dropdown > .nav-tabs > li > a:focus,
.tabset-dropdown > .nav-tabs > li > a:hover {
  border: none;
  display: inline-block;
  border-radius: 4px;
  background-color: transparent;
}

.tabset-dropdown > .nav-tabs.nav-tabs-open > li {
  display: block;
  float: none;
}

.tabset-dropdown > .nav-tabs > li {
  display: none;
}
</style>

<!-- code folding -->
<style type="text/css">
.code-folding-btn { margin-bottom: 4px; }
</style>



<style type="text/css">

#TOC {
  margin: 25px 0px 20px 0px;
}
@media (max-width: 768px) {
#TOC {
  position: relative;
  width: 100%;
}
}

@media print {
.toc-content {
  /* see https://github.com/w3c/csswg-drafts/issues/4434 */
  float: right;
}
}

.toc-content {
  padding-left: 30px;
  padding-right: 40px;
}

div.main-container {
  max-width: 1200px;
}

div.tocify {
  width: 20%;
  max-width: 260px;
  max-height: 85%;
}

@media (min-width: 768px) and (max-width: 991px) {
  div.tocify {
    width: 25%;
  }
}

@media (max-width: 767px) {
  div.tocify {
    width: 100%;
    max-width: none;
  }
}

.tocify ul, .tocify li {
  line-height: 20px;
}

.tocify-subheader .tocify-item {
  font-size: 0.90em;
}

.tocify .list-group-item {
  border-radius: 0px;
}


</style>



</head>

<body>


<div class="container-fluid main-container">


<!-- setup 3col/9col grid for toc_float and main content  -->
<div class="row">
<div class="col-xs-12 col-sm-4 col-md-3">
<div id="TOC" class="tocify">
</div>
</div>

<div class="toc-content col-xs-12 col-sm-8 col-md-9">




<div id="header">

<div class="btn-group pull-right float-right">
<button type="button" class="btn btn-default btn-xs btn-secondary btn-sm dropdown-toggle" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false"><span>Code</span> <span class="caret"></span></button>
<ul class="dropdown-menu dropdown-menu-right" style="min-width: 50px;">
<li><a id="rmd-show-all-code" href="#">Show All Code</a></li>
<li><a id="rmd-hide-all-code" href="#">Hide All Code</a></li>
</ul>
</div>



<h1 class="title toc-ignore">Packages intermittent failtures</h1>
<h4 class="author">Lluís Revilla Sancho</h4>
<h4 class="date">2022-01-15</h4>

</div>


<div id="introduction" class="section level1">
<h1>Introduction</h1>
<p>This report checks if the status of packages on CRAN are due to intermittent failures.</p>
<p>Failures defined as warnings, notes or errors without change on:</p>
<ul>
<li><p>R version used (if not stable the same svn snapshot)</p></li>
<li><p>The package version (Note that CRAN might modify a package without changing the version)</p></li>
<li><p>Their dependencies</p></li>
</ul>
<p>Reasons of these failures might be because the packages depend on:</p>
<ul>
<li><p>Random generation numbers</p></li>
<li><p>Flacky external resources</p></li>
<li><p>Other ?</p></li>
</ul>
<p>Why is this important?</p>
<p>Because package maintainers of dependencies of that package, R core and CRAN team need to check if the failures are false positives.</p>
<p>This report started because it was <a href="https://github.com/RConsortium/r-repositories-wg/issues/7">suggested as something that the R-repositories working group</a> could help the CRAN team.</p>
</div>
<div id="retrieve-data" class="section level1">
<h1>Retrieve data</h1>
<p>It makes use of <a href="https://search.r-project.org/R/refmans/tools/html/CRANtools.html">tools::CRAN_check_results</a> to retrieve the data.</p>
<pre class="r"><code>library(&quot;dplyr&quot;)
library(&quot;tools&quot;, include.only = c(&quot;package_dependencies&quot;, &quot;CRAN_check_results&quot;))
library(&quot;flextable&quot;, include.only = c(&quot;flextable&quot;, &quot;autofit&quot;))
# Use a LOCAL environment to check if files can be overwritten on my computer
local_build &lt;- as.logical(Sys.getenv(&quot;LOCAL&quot;, &quot;FALSE&quot;))
yc &lt;- readRDS(&quot;today.RDS&quot;)
tc &lt;- CRAN_check_results()
if (!interactive() &amp;&amp; !local_build) {
  message(&quot;Saving today&#39;s file.&quot;)
  saveRDS(tc, file = &quot;today.RDS&quot;)
} </code></pre>
<p>The checks are from multiple flavors release, devel, old release and patched on multiple machines and configurations.</p>
<pre class="r"><code>old_flavors &lt;- readRDS(&quot;flavors.RDS&quot;)
flavors &lt;- unique(tc$Flavor)
proto &lt;- data.frame(r_version = character(),
                    os = character(),
                    architecture = character(),
                    other = character())
flavors_df &lt;- strcapture(
  pattern = &quot;r-([[:alnum:]]+)-([[:alnum:]]+)-([[:alnum:]_\\+]+)-?(.*)&quot;, 
  x = flavors,
  proto = proto)

# Extract R version used and svn id
h &lt;- &quot;https://www.r-project.org/nosvn/R.check/%s/A3-00check.html&quot;
links &lt;- sprintf(h, flavors)
extract_revision &lt;- function(x) {
  r &lt;- readLines(x, 12)[12]
  version &lt;- strcapture(pattern = &quot;([[:digit:]]\\.[[:digit:]]\\.[[:digit:]])&quot;,  
                        x = r, proto = data.frame(version = character()))
  revision &lt;- strcapture(pattern = &quot;(r[[:digit:]]+)&quot;,  x = r,
             proto = data.frame(revision = character()))
  cbind(version, revision)
}
revision &lt;- data.frame(version = character(),
                      revision = character())
for (i in links) {
  revision &lt;- rbind(revision, extract_revision(i))
}

flavors_df &lt;- cbind(flavors = flavors, flavors_df, revision)
if (!interactive() &amp;&amp; !local_build) {
  saveRDS(flavors_df, &quot;flavors.RDS&quot;)
}

m &lt;- match(tc$Flavor, flavors_df$flavors)
tc_flavors &lt;- cbind(tc, flavors_df[m, ])
flextable(flavors_df) |&gt; 
  autofit()</code></pre>
<template id="f7f1620f-702f-4a9c-b822-6109420d8715"><style>
.tabwid table{
  border-spacing:0px !important;
  border-collapse:collapse;
  line-height:1;
  margin-left:auto;
  margin-right:auto;
  border-width: 0;
  display: table;
  margin-top: 1.275em;
  margin-bottom: 1.275em;
  border-color: transparent;
}
.tabwid_left table{
  margin-left:0;
}
.tabwid_right table{
  margin-right:0;
}
.tabwid td {
    padding: 0;
}
.tabwid a {
  text-decoration: none;
}
.tabwid thead {
    background-color: transparent;
}
.tabwid tfoot {
    background-color: transparent;
}
.tabwid table tr {
background-color: transparent;
}
</style><div class="tabwid"><style>.cl-adb5d992{}.cl-adacd310{font-family:'DejaVu Sans';font-size:11pt;font-weight:normal;font-style:normal;text-decoration:none;color:rgba(0, 0, 0, 1.00);background-color:transparent;}.cl-adacea62{margin:0;text-align:left;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);padding-bottom:5pt;padding-top:5pt;padding-left:5pt;padding-right:5pt;line-height: 1;background-color:transparent;}.cl-adad38a0{width:60.8pt;background-color:transparent;vertical-align: middle;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-adad38aa{width:63.9pt;background-color:transparent;vertical-align: middle;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-adad38b4{width:70.8pt;background-color:transparent;vertical-align: middle;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-adad38b5{width:91.8pt;background-color:transparent;vertical-align: middle;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-adad38b6{width:68pt;background-color:transparent;vertical-align: middle;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-adad38be{width:208.9pt;background-color:transparent;vertical-align: middle;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-adad38bf{width:93.3pt;background-color:transparent;vertical-align: middle;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-adad38c0{width:93.3pt;background-color:transparent;vertical-align: middle;border-bottom: 2pt solid rgba(102, 102, 102, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-adad38c8{width:208.9pt;background-color:transparent;vertical-align: middle;border-bottom: 2pt solid rgba(102, 102, 102, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-adad38c9{width:68pt;background-color:transparent;vertical-align: middle;border-bottom: 2pt solid rgba(102, 102, 102, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-adad38d2{width:91.8pt;background-color:transparent;vertical-align: middle;border-bottom: 2pt solid rgba(102, 102, 102, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-adad38d3{width:70.8pt;background-color:transparent;vertical-align: middle;border-bottom: 2pt solid rgba(102, 102, 102, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-adad38d4{width:63.9pt;background-color:transparent;vertical-align: middle;border-bottom: 2pt solid rgba(102, 102, 102, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-adad38dc{width:60.8pt;background-color:transparent;vertical-align: middle;border-bottom: 2pt solid rgba(102, 102, 102, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-adad38dd{width:68pt;background-color:transparent;vertical-align: middle;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-adad38de{width:60.8pt;background-color:transparent;vertical-align: middle;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-adad38e6{width:91.8pt;background-color:transparent;vertical-align: middle;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-adad38e7{width:70.8pt;background-color:transparent;vertical-align: middle;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-adad38e8{width:208.9pt;background-color:transparent;vertical-align: middle;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-adad38f0{width:63.9pt;background-color:transparent;vertical-align: middle;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-adad38f1{width:93.3pt;background-color:transparent;vertical-align: middle;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-adad38fa{width:93.3pt;background-color:transparent;vertical-align: middle;border-bottom: 2pt solid rgba(102, 102, 102, 1.00);border-top: 2pt solid rgba(102, 102, 102, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-adad38fb{width:208.9pt;background-color:transparent;vertical-align: middle;border-bottom: 2pt solid rgba(102, 102, 102, 1.00);border-top: 2pt solid rgba(102, 102, 102, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-adad3904{width:68pt;background-color:transparent;vertical-align: middle;border-bottom: 2pt solid rgba(102, 102, 102, 1.00);border-top: 2pt solid rgba(102, 102, 102, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-adad3905{width:91.8pt;background-color:transparent;vertical-align: middle;border-bottom: 2pt solid rgba(102, 102, 102, 1.00);border-top: 2pt solid rgba(102, 102, 102, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-adad3906{width:70.8pt;background-color:transparent;vertical-align: middle;border-bottom: 2pt solid rgba(102, 102, 102, 1.00);border-top: 2pt solid rgba(102, 102, 102, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-adad390e{width:63.9pt;background-color:transparent;vertical-align: middle;border-bottom: 2pt solid rgba(102, 102, 102, 1.00);border-top: 2pt solid rgba(102, 102, 102, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-adad390f{width:60.8pt;background-color:transparent;vertical-align: middle;border-bottom: 2pt solid rgba(102, 102, 102, 1.00);border-top: 2pt solid rgba(102, 102, 102, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}</style><table class='cl-adb5d992'>
<thead><tr style="overflow-wrap:break-word;"><td class="cl-adad38fb"><p class="cl-adacea62"><span class="cl-adacd310">flavors</span></p></td><td class="cl-adad3906"><p class="cl-adacea62"><span class="cl-adacd310">r_version</span></p></td><td class="cl-adad3904"><p class="cl-adacea62"><span class="cl-adacd310">os</span></p></td><td class="cl-adad38fa"><p class="cl-adacea62"><span class="cl-adacd310">architecture</span></p></td><td class="cl-adad3905"><p class="cl-adacea62"><span class="cl-adacd310">other</span></p></td><td class="cl-adad390f"><p class="cl-adacea62"><span class="cl-adacd310">version</span></p></td><td class="cl-adad390e"><p class="cl-adacea62"><span class="cl-adacd310">revision</span></p></td></tr></thead><tbody><tr style="overflow-wrap:break-word;"><td class="cl-adad38be"><p class="cl-adacea62"><span class="cl-adacd310">r-devel-linux-x86_64-debian-clang</span></p></td><td class="cl-adad38b4"><p class="cl-adacea62"><span class="cl-adacd310">devel</span></p></td><td class="cl-adad38b6"><p class="cl-adacea62"><span class="cl-adacd310">linux</span></p></td><td class="cl-adad38bf"><p class="cl-adacea62"><span class="cl-adacd310">x86_64</span></p></td><td class="cl-adad38b5"><p class="cl-adacea62"><span class="cl-adacd310">debian-clang</span></p></td><td class="cl-adad38a0"><p class="cl-adacea62"><span class="cl-adacd310"></span></p></td><td class="cl-adad38aa"><p class="cl-adacea62"><span class="cl-adacd310">r81483</span></p></td></tr><tr style="overflow-wrap:break-word;"><td class="cl-adad38be"><p class="cl-adacea62"><span class="cl-adacd310">r-devel-linux-x86_64-debian-gcc</span></p></td><td class="cl-adad38b4"><p class="cl-adacea62"><span class="cl-adacd310">devel</span></p></td><td class="cl-adad38b6"><p class="cl-adacea62"><span class="cl-adacd310">linux</span></p></td><td class="cl-adad38bf"><p class="cl-adacea62"><span class="cl-adacd310">x86_64</span></p></td><td class="cl-adad38b5"><p class="cl-adacea62"><span class="cl-adacd310">debian-gcc</span></p></td><td class="cl-adad38a0"><p class="cl-adacea62"><span class="cl-adacd310"></span></p></td><td class="cl-adad38aa"><p class="cl-adacea62"><span class="cl-adacd310">r81498</span></p></td></tr><tr style="overflow-wrap:break-word;"><td class="cl-adad38be"><p class="cl-adacea62"><span class="cl-adacd310">r-devel-linux-x86_64-fedora-clang</span></p></td><td class="cl-adad38b4"><p class="cl-adacea62"><span class="cl-adacd310">devel</span></p></td><td class="cl-adad38b6"><p class="cl-adacea62"><span class="cl-adacd310">linux</span></p></td><td class="cl-adad38bf"><p class="cl-adacea62"><span class="cl-adacd310">x86_64</span></p></td><td class="cl-adad38b5"><p class="cl-adacea62"><span class="cl-adacd310">fedora-clang</span></p></td><td class="cl-adad38a0"><p class="cl-adacea62"><span class="cl-adacd310"></span></p></td><td class="cl-adad38aa"><p class="cl-adacea62"><span class="cl-adacd310">r81457</span></p></td></tr><tr style="overflow-wrap:break-word;"><td class="cl-adad38be"><p class="cl-adacea62"><span class="cl-adacd310">r-devel-linux-x86_64-fedora-gcc</span></p></td><td class="cl-adad38b4"><p class="cl-adacea62"><span class="cl-adacd310">devel</span></p></td><td class="cl-adad38b6"><p class="cl-adacea62"><span class="cl-adacd310">linux</span></p></td><td class="cl-adad38bf"><p class="cl-adacea62"><span class="cl-adacd310">x86_64</span></p></td><td class="cl-adad38b5"><p class="cl-adacea62"><span class="cl-adacd310">fedora-gcc</span></p></td><td class="cl-adad38a0"><p class="cl-adacea62"><span class="cl-adacd310"></span></p></td><td class="cl-adad38aa"><p class="cl-adacea62"><span class="cl-adacd310">r81460</span></p></td></tr><tr style="overflow-wrap:break-word;"><td class="cl-adad38be"><p class="cl-adacea62"><span class="cl-adacd310">r-devel-windows-x86_64-new-UL</span></p></td><td class="cl-adad38b4"><p class="cl-adacea62"><span class="cl-adacd310">devel</span></p></td><td class="cl-adad38b6"><p class="cl-adacea62"><span class="cl-adacd310">windows</span></p></td><td class="cl-adad38bf"><p class="cl-adacea62"><span class="cl-adacd310">x86_64</span></p></td><td class="cl-adad38b5"><p class="cl-adacea62"><span class="cl-adacd310">new-UL</span></p></td><td class="cl-adad38a0"><p class="cl-adacea62"><span class="cl-adacd310"></span></p></td><td class="cl-adad38aa"><p class="cl-adacea62"><span class="cl-adacd310">r81477</span></p></td></tr><tr style="overflow-wrap:break-word;"><td class="cl-adad38be"><p class="cl-adacea62"><span class="cl-adacd310">r-devel-windows-x86_64-new-TK</span></p></td><td class="cl-adad38b4"><p class="cl-adacea62"><span class="cl-adacd310">devel</span></p></td><td class="cl-adad38b6"><p class="cl-adacea62"><span class="cl-adacd310">windows</span></p></td><td class="cl-adad38bf"><p class="cl-adacea62"><span class="cl-adacd310">x86_64</span></p></td><td class="cl-adad38b5"><p class="cl-adacea62"><span class="cl-adacd310">new-TK</span></p></td><td class="cl-adad38a0"><p class="cl-adacea62"><span class="cl-adacd310"></span></p></td><td class="cl-adad38aa"><p class="cl-adacea62"><span class="cl-adacd310">r81477</span></p></td></tr><tr style="overflow-wrap:break-word;"><td class="cl-adad38be"><p class="cl-adacea62"><span class="cl-adacd310">r-patched-linux-x86_64</span></p></td><td class="cl-adad38b4"><p class="cl-adacea62"><span class="cl-adacd310">patched</span></p></td><td class="cl-adad38b6"><p class="cl-adacea62"><span class="cl-adacd310">linux</span></p></td><td class="cl-adad38bf"><p class="cl-adacea62"><span class="cl-adacd310">x86_64</span></p></td><td class="cl-adad38b5"><p class="cl-adacea62"><span class="cl-adacd310"></span></p></td><td class="cl-adad38a0"><p class="cl-adacea62"><span class="cl-adacd310">4.1.2</span></p></td><td class="cl-adad38aa"><p class="cl-adacea62"><span class="cl-adacd310">r81477</span></p></td></tr><tr style="overflow-wrap:break-word;"><td class="cl-adad38be"><p class="cl-adacea62"><span class="cl-adacd310">r-release-linux-x86_64</span></p></td><td class="cl-adad38b4"><p class="cl-adacea62"><span class="cl-adacd310">release</span></p></td><td class="cl-adad38b6"><p class="cl-adacea62"><span class="cl-adacd310">linux</span></p></td><td class="cl-adad38bf"><p class="cl-adacea62"><span class="cl-adacd310">x86_64</span></p></td><td class="cl-adad38b5"><p class="cl-adacea62"><span class="cl-adacd310"></span></p></td><td class="cl-adad38a0"><p class="cl-adacea62"><span class="cl-adacd310">4.1.2</span></p></td><td class="cl-adad38aa"><p class="cl-adacea62"><span class="cl-adacd310"></span></p></td></tr><tr style="overflow-wrap:break-word;"><td class="cl-adad38e8"><p class="cl-adacea62"><span class="cl-adacd310">r-release-macos-arm64</span></p></td><td class="cl-adad38e7"><p class="cl-adacea62"><span class="cl-adacd310">release</span></p></td><td class="cl-adad38dd"><p class="cl-adacea62"><span class="cl-adacd310">macos</span></p></td><td class="cl-adad38f1"><p class="cl-adacea62"><span class="cl-adacd310">arm64</span></p></td><td class="cl-adad38e6"><p class="cl-adacea62"><span class="cl-adacd310"></span></p></td><td class="cl-adad38de"><p class="cl-adacea62"><span class="cl-adacd310">4.1.0</span></p></td><td class="cl-adad38f0"><p class="cl-adacea62"><span class="cl-adacd310"></span></p></td></tr><tr style="overflow-wrap:break-word;"><td class="cl-adad38be"><p class="cl-adacea62"><span class="cl-adacd310">r-release-macos-x86_64</span></p></td><td class="cl-adad38b4"><p class="cl-adacea62"><span class="cl-adacd310">release</span></p></td><td class="cl-adad38b6"><p class="cl-adacea62"><span class="cl-adacd310">macos</span></p></td><td class="cl-adad38bf"><p class="cl-adacea62"><span class="cl-adacd310">x86_64</span></p></td><td class="cl-adad38b5"><p class="cl-adacea62"><span class="cl-adacd310"></span></p></td><td class="cl-adad38a0"><p class="cl-adacea62"><span class="cl-adacd310">4.1.0</span></p></td><td class="cl-adad38aa"><p class="cl-adacea62"><span class="cl-adacd310"></span></p></td></tr><tr style="overflow-wrap:break-word;"><td class="cl-adad38be"><p class="cl-adacea62"><span class="cl-adacd310">r-release-windows-ix86+x86_64</span></p></td><td class="cl-adad38b4"><p class="cl-adacea62"><span class="cl-adacd310">release</span></p></td><td class="cl-adad38b6"><p class="cl-adacea62"><span class="cl-adacd310">windows</span></p></td><td class="cl-adad38bf"><p class="cl-adacea62"><span class="cl-adacd310">ix86+x86_64</span></p></td><td class="cl-adad38b5"><p class="cl-adacea62"><span class="cl-adacd310"></span></p></td><td class="cl-adad38a0"><p class="cl-adacea62"><span class="cl-adacd310">4.1.2</span></p></td><td class="cl-adad38aa"><p class="cl-adacea62"><span class="cl-adacd310"></span></p></td></tr><tr style="overflow-wrap:break-word;"><td class="cl-adad38be"><p class="cl-adacea62"><span class="cl-adacd310">r-oldrel-macos-x86_64</span></p></td><td class="cl-adad38b4"><p class="cl-adacea62"><span class="cl-adacd310">oldrel</span></p></td><td class="cl-adad38b6"><p class="cl-adacea62"><span class="cl-adacd310">macos</span></p></td><td class="cl-adad38bf"><p class="cl-adacea62"><span class="cl-adacd310">x86_64</span></p></td><td class="cl-adad38b5"><p class="cl-adacea62"><span class="cl-adacd310"></span></p></td><td class="cl-adad38a0"><p class="cl-adacea62"><span class="cl-adacd310">4.0.2</span></p></td><td class="cl-adad38aa"><p class="cl-adacea62"><span class="cl-adacd310"></span></p></td></tr><tr style="overflow-wrap:break-word;"><td class="cl-adad38c8"><p class="cl-adacea62"><span class="cl-adacd310">r-oldrel-windows-ix86+x86_64</span></p></td><td class="cl-adad38d3"><p class="cl-adacea62"><span class="cl-adacd310">oldrel</span></p></td><td class="cl-adad38c9"><p class="cl-adacea62"><span class="cl-adacd310">windows</span></p></td><td class="cl-adad38c0"><p class="cl-adacea62"><span class="cl-adacd310">ix86+x86_64</span></p></td><td class="cl-adad38d2"><p class="cl-adacea62"><span class="cl-adacd310"></span></p></td><td class="cl-adad38dc"><p class="cl-adacea62"><span class="cl-adacd310">4.0.5</span></p></td><td class="cl-adad38d4"><p class="cl-adacea62"><span class="cl-adacd310"></span></p></td></tr></tbody></table></div></template>
<div class="flextable-shadow-host" id="f0a1219c-e986-47e4-9f1b-647fd45b4c8f"></div>
<script>
var dest = document.getElementById("f0a1219c-e986-47e4-9f1b-647fd45b4c8f");
var template = document.getElementById("f7f1620f-702f-4a9c-b822-6109420d8715");
var caption = template.content.querySelector("caption");
if(caption) {
  caption.style.cssText = "display:block;text-align:center;";
  var newcapt = document.createElement("p");
  newcapt.appendChild(caption)
  dest.parentNode.insertBefore(newcapt, dest.previousSibling);
}
var fantome = dest.attachShadow({mode: 'open'});
var templateContent = template.content;
fantome.appendChild(templateContent);
</script>

<p>It assumes that the same configuration in one package is used for all. Or in other words that the reports of the configuration (svn revision and version) for the A3 package is the same as for all the other packages.</p>
</div>
<div id="overview" class="section level1">
<h1>Overview</h1>
<p>Briefly an introduction of how much effort goes into checking</p>
<pre class="r"><code>library(&quot;ggplot2&quot;)
theme_set(theme_minimal())
tc |&gt; 
  filter(!is.na(T_install)) |&gt; 
  ggplot() +
  geom_violin(aes(T_install, Flavor)) +
  scale_x_log10() +
  labs(x = &quot;seconds&quot;, title = &quot;Time to install&quot;, y = element_blank())</code></pre>
<div class="figure" style="text-align: center">
<img src="index_files/figure-html/plots-install-1.png" alt="Machines (y axis) vs install time (seconds, x axis), violing plot usually around 10 seconds." width="672" />
<p class="caption">
Distribution of install time on each machine.
</p>
</div>
<p>This means that just to install all the packages on the multiple flavors with a single CPU would take 52 days.</p>
<pre class="r"><code>tc |&gt; 
  filter(!is.na(T_check)) |&gt; 
  ggplot() +
  geom_violin(aes(T_check, Flavor), trim = FALSE) +
  scale_x_log10() +
  labs(x = &quot;seconds&quot;, title = &quot;Time to check&quot;, y = element_blank())</code></pre>
<div class="figure" style="text-align: center">
<img src="index_files/figure-html/plots-check-1.png" alt="Machines (y axis) vs check time (seconds, x axis), violing plot usually around 100 seconds." width="672" />
<p class="caption">
Distribution of checking time on each machine.
</p>
</div>
<p>This means that to check all the packages on the multiple flavors with a single CPU would take 156 days.</p>
<pre class="r"><code>tc |&gt; 
  filter(!is.na(T_total)) |&gt; 
  ggplot() +
  geom_violin(aes(T_total, Flavor)) +
  scale_x_log10() +
  labs(x = &quot;seconds&quot;, title = &quot;Time to check and install&quot;, y = element_blank())</code></pre>
<div class="figure" style="text-align: center">
<img src="index_files/figure-html/plots-total-1.png" alt="Machines (y axis) vs total time (seconds, x axis), violing plot usually around 100 seconds." width="672" />
<p class="caption">
Distribution of total time on each machine.
</p>
</div>
<p>This means that to install and check all the packages with a single CPU would take 268 days.</p>
<p>I don’t know the computational cost of 266 days of CPU (every day), but a rough calculation of 2.5 cents per hour means 160.77 dollars daily dedicated to this.</p>
<pre class="r"><code>tc |&gt; 
  group_by(Package) |&gt; 
  summarize(Versions = n_distinct(Version)) |&gt; 
  ungroup() |&gt; 
  count(Versions, name = &quot;Packages&quot;, sort = TRUE) |&gt; 
  flextable() |&gt; 
  autofit()</code></pre>
<template id="184e0510-6052-48ea-aaea-d020d70ff377"><style>
.tabwid table{
  border-spacing:0px !important;
  border-collapse:collapse;
  line-height:1;
  margin-left:auto;
  margin-right:auto;
  border-width: 0;
  display: table;
  margin-top: 1.275em;
  margin-bottom: 1.275em;
  border-color: transparent;
}
.tabwid_left table{
  margin-left:0;
}
.tabwid_right table{
  margin-right:0;
}
.tabwid td {
    padding: 0;
}
.tabwid a {
  text-decoration: none;
}
.tabwid thead {
    background-color: transparent;
}
.tabwid tfoot {
    background-color: transparent;
}
.tabwid table tr {
background-color: transparent;
}
</style><div class="tabwid"><style>.cl-af3eba9a{}.cl-af380772{font-family:'DejaVu Sans';font-size:11pt;font-weight:normal;font-style:normal;text-decoration:none;color:rgba(0, 0, 0, 1.00);background-color:transparent;}.cl-af38173a{margin:0;text-align:right;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);padding-bottom:5pt;padding-top:5pt;padding-left:5pt;padding-right:5pt;line-height: 1;background-color:transparent;}.cl-af383ef4{width:72.5pt;background-color:transparent;vertical-align: middle;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-af383efe{width:67.6pt;background-color:transparent;vertical-align: middle;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-af383f08{width:72.5pt;background-color:transparent;vertical-align: middle;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-af383f09{width:67.6pt;background-color:transparent;vertical-align: middle;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-af383f12{width:72.5pt;background-color:transparent;vertical-align: middle;border-bottom: 2pt solid rgba(102, 102, 102, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-af383f13{width:67.6pt;background-color:transparent;vertical-align: middle;border-bottom: 2pt solid rgba(102, 102, 102, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-af383f14{width:72.5pt;background-color:transparent;vertical-align: middle;border-bottom: 2pt solid rgba(102, 102, 102, 1.00);border-top: 2pt solid rgba(102, 102, 102, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-af383f15{width:67.6pt;background-color:transparent;vertical-align: middle;border-bottom: 2pt solid rgba(102, 102, 102, 1.00);border-top: 2pt solid rgba(102, 102, 102, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}</style><table class='cl-af3eba9a'>
<thead><tr style="overflow-wrap:break-word;"><td class="cl-af383f15"><p class="cl-af38173a"><span class="cl-af380772">Versions</span></p></td><td class="cl-af383f14"><p class="cl-af38173a"><span class="cl-af380772">Packages</span></p></td></tr></thead><tbody><tr style="overflow-wrap:break-word;"><td class="cl-af383efe"><p class="cl-af38173a"><span class="cl-af380772">1</span></p></td><td class="cl-af383ef4"><p class="cl-af38173a"><span class="cl-af380772">18,118</span></p></td></tr><tr style="overflow-wrap:break-word;"><td class="cl-af383f09"><p class="cl-af38173a"><span class="cl-af380772">2</span></p></td><td class="cl-af383f08"><p class="cl-af38173a"><span class="cl-af380772">605</span></p></td></tr><tr style="overflow-wrap:break-word;"><td class="cl-af383f13"><p class="cl-af38173a"><span class="cl-af380772">3</span></p></td><td class="cl-af383f12"><p class="cl-af38173a"><span class="cl-af380772">10</span></p></td></tr></tbody></table></div></template>
<div class="flextable-shadow-host" id="0582a4ea-39f0-4e12-8f06-7cbbf5e6a5a0"></div>
<script>
var dest = document.getElementById("0582a4ea-39f0-4e12-8f06-7cbbf5e6a5a0");
var template = document.getElementById("184e0510-6052-48ea-aaea-d020d70ff377");
var caption = template.content.querySelector("caption");
if(caption) {
  caption.style.cssText = "display:block;text-align:center;";
  var newcapt = document.createElement("p");
  newcapt.appendChild(caption)
  dest.parentNode.insertBefore(newcapt, dest.previousSibling);
}
var fantome = dest.attachShadow({mode: 'open'});
var templateContent = template.content;
fantome.appendChild(templateContent);
</script>

<p>This was surprising, but sometimes checks have multiple versions. Probably when a new version is added and the system don’t catch it for a certain machine.</p>
<pre class="r"><code>tc |&gt; 
  group_by(Package) |&gt; 
  summarize(Flavors = n_distinct(Flavor)) |&gt; 
  ungroup() |&gt; 
  count(Flavors, name = &quot;Packages&quot;, sort = TRUE) |&gt; 
  flextable() |&gt; 
  autofit()</code></pre>
<template id="fff07547-6f2d-4916-85cc-b4b3c5b90eaa"><style>
.tabwid table{
  border-spacing:0px !important;
  border-collapse:collapse;
  line-height:1;
  margin-left:auto;
  margin-right:auto;
  border-width: 0;
  display: table;
  margin-top: 1.275em;
  margin-bottom: 1.275em;
  border-color: transparent;
}
.tabwid_left table{
  margin-left:0;
}
.tabwid_right table{
  margin-right:0;
}
.tabwid td {
    padding: 0;
}
.tabwid a {
  text-decoration: none;
}
.tabwid thead {
    background-color: transparent;
}
.tabwid tfoot {
    background-color: transparent;
}
.tabwid table tr {
background-color: transparent;
}
</style><div class="tabwid"><style>.cl-af9a4a18{}.cl-af94ec8a{font-family:'DejaVu Sans';font-size:11pt;font-weight:normal;font-style:normal;text-decoration:none;color:rgba(0, 0, 0, 1.00);background-color:transparent;}.cl-af94fc3e{margin:0;text-align:right;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);padding-bottom:5pt;padding-top:5pt;padding-left:5pt;padding-right:5pt;line-height: 1;background-color:transparent;}.cl-af9527ea{width:60.2pt;background-color:transparent;vertical-align: middle;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-af9527f4{width:72.5pt;background-color:transparent;vertical-align: middle;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-af9527fe{width:60.2pt;background-color:transparent;vertical-align: middle;border-bottom: 2pt solid rgba(102, 102, 102, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-af9527ff{width:72.5pt;background-color:transparent;vertical-align: middle;border-bottom: 2pt solid rgba(102, 102, 102, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-af952800{width:60.2pt;background-color:transparent;vertical-align: middle;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-af952808{width:72.5pt;background-color:transparent;vertical-align: middle;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-af952809{width:72.5pt;background-color:transparent;vertical-align: middle;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-af95280a{width:60.2pt;background-color:transparent;vertical-align: middle;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-af95280b{width:60.2pt;background-color:transparent;vertical-align: middle;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-af952812{width:72.5pt;background-color:transparent;vertical-align: middle;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-af952813{width:60.2pt;background-color:transparent;vertical-align: middle;border-bottom: 2pt solid rgba(102, 102, 102, 1.00);border-top: 2pt solid rgba(102, 102, 102, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-af952814{width:72.5pt;background-color:transparent;vertical-align: middle;border-bottom: 2pt solid rgba(102, 102, 102, 1.00);border-top: 2pt solid rgba(102, 102, 102, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}</style><table class='cl-af9a4a18'>
<thead><tr style="overflow-wrap:break-word;"><td class="cl-af952813"><p class="cl-af94fc3e"><span class="cl-af94ec8a">Flavors</span></p></td><td class="cl-af952814"><p class="cl-af94fc3e"><span class="cl-af94ec8a">Packages</span></p></td></tr></thead><tbody><tr style="overflow-wrap:break-word;"><td class="cl-af9527ea"><p class="cl-af94fc3e"><span class="cl-af94ec8a">13</span></p></td><td class="cl-af9527f4"><p class="cl-af94fc3e"><span class="cl-af94ec8a">18,506</span></p></td></tr><tr style="overflow-wrap:break-word;"><td class="cl-af952800"><p class="cl-af94fc3e"><span class="cl-af94ec8a">12</span></p></td><td class="cl-af952808"><p class="cl-af94fc3e"><span class="cl-af94ec8a">92</span></p></td></tr><tr style="overflow-wrap:break-word;"><td class="cl-af95280a"><p class="cl-af94fc3e"><span class="cl-af94ec8a">11</span></p></td><td class="cl-af952809"><p class="cl-af94fc3e"><span class="cl-af94ec8a">54</span></p></td></tr><tr style="overflow-wrap:break-word;"><td class="cl-af952800"><p class="cl-af94fc3e"><span class="cl-af94ec8a">9</span></p></td><td class="cl-af952808"><p class="cl-af94fc3e"><span class="cl-af94ec8a">33</span></p></td></tr><tr style="overflow-wrap:break-word;"><td class="cl-af952800"><p class="cl-af94fc3e"><span class="cl-af94ec8a">10</span></p></td><td class="cl-af952808"><p class="cl-af94fc3e"><span class="cl-af94ec8a">17</span></p></td></tr><tr style="overflow-wrap:break-word;"><td class="cl-af95280a"><p class="cl-af94fc3e"><span class="cl-af94ec8a">5</span></p></td><td class="cl-af952809"><p class="cl-af94fc3e"><span class="cl-af94ec8a">12</span></p></td></tr><tr style="overflow-wrap:break-word;"><td class="cl-af952800"><p class="cl-af94fc3e"><span class="cl-af94ec8a">8</span></p></td><td class="cl-af952808"><p class="cl-af94fc3e"><span class="cl-af94ec8a">11</span></p></td></tr><tr style="overflow-wrap:break-word;"><td class="cl-af952800"><p class="cl-af94fc3e"><span class="cl-af94ec8a">2</span></p></td><td class="cl-af952808"><p class="cl-af94fc3e"><span class="cl-af94ec8a">6</span></p></td></tr><tr style="overflow-wrap:break-word;"><td class="cl-af95280b"><p class="cl-af94fc3e"><span class="cl-af94ec8a">4</span></p></td><td class="cl-af952812"><p class="cl-af94fc3e"><span class="cl-af94ec8a">1</span></p></td></tr><tr style="overflow-wrap:break-word;"><td class="cl-af9527fe"><p class="cl-af94fc3e"><span class="cl-af94ec8a">7</span></p></td><td class="cl-af9527ff"><p class="cl-af94fc3e"><span class="cl-af94ec8a">1</span></p></td></tr></tbody></table></div></template>
<div class="flextable-shadow-host" id="1c37d571-d8c8-4587-8787-72a96698ac3e"></div>
<script>
var dest = document.getElementById("1c37d571-d8c8-4587-8787-72a96698ac3e");
var template = document.getElementById("fff07547-6f2d-4916-85cc-b4b3c5b90eaa");
var caption = template.content.querySelector("caption");
if(caption) {
  caption.style.cssText = "display:block;text-align:center;";
  var newcapt = document.createElement("p");
  newcapt.appendChild(caption)
  dest.parentNode.insertBefore(newcapt, dest.previousSibling);
}
var fantome = dest.attachShadow({mode: 'open'});
var templateContent = template.content;
fantome.appendChild(templateContent);
</script>

<p>Similarly, often packages are only tested on few configurations.</p>
<p>Combining both we can have packages with few configurations that have multiple versions being tested.</p>
<pre class="r"><code>tc |&gt; 
  group_by(Package) |&gt; 
  summarize(Versions = as.character(n_distinct(Version)),
            Flavors = n_distinct(Flavor)) |&gt; 
  ungroup() |&gt; 
  count(Flavors, Versions, name = &quot;Packages&quot;) |&gt; 
  ggplot() +
  geom_tile(aes(Flavors, Versions, fill = log10(Packages))) +
  scale_x_continuous(expand = expansion())</code></pre>
<div class="figure" style="text-align: center">
<img src="index_files/figure-html/plot-versions-flavors-1.png" alt="Flavors of machines and versions of packages" width="672" />
<p class="caption">
Most packages are just tested one version.
</p>
</div>
<p>But focusing on those that have just one version of the package being tested, most of the machines have packages either OK or with some notes.</p>
<pre class="r"><code>man_colors &lt;- c(&quot;OK&quot; = &quot;green&quot;, &quot;NOTE&quot; = &quot;darkgreen&quot;, 
                &quot;WARNING&quot; = &quot;yellow&quot;, &quot;ERROR&quot; = &quot;red&quot;, &quot;FAILURE&quot; = &quot;black&quot;)
tc |&gt; 
  group_by(Package) |&gt; 
  filter(n_distinct(Version) == 1) |&gt; 
  ungroup() |&gt; 
  group_by(Flavor) |&gt; 
  count(Status, name = &quot;packages&quot;) |&gt; 
  mutate(perc = packages/sum(packages),
         Status = forcats::fct_relevel(Status, names(man_colors))) |&gt; 
  ggplot() + 
  geom_col(aes(perc, Flavor, fill = Status)) +
  scale_x_continuous(expand = expansion(), labels = scales::percent_format()) +
  scale_fill_manual(values = man_colors) +
  labs(title = &quot;Packages check status&quot;, x = element_blank())</code></pre>
<div class="figure" style="text-align: center">
<img src="index_files/figure-html/plot-flavors-status-1.png" alt="On the vertical axis the machine, on the horitzonal axis the packages colored by the status." width="672" />
<p class="caption">
Most frequent status is OK or NOTE on all machines.
</p>
</div>
<p>If we look at the most frequent status report for packages we can see this table:</p>
<pre class="r"><code>ts &lt;- tc |&gt; 
  group_by(Package) |&gt; 
  filter(n_distinct(Version) == 1) |&gt; 
  count(Status, name = &quot;flavors&quot;) |&gt; 
  ungroup() |&gt; 
  tidyr::pivot_wider(values_from = flavors, names_from = Status, 
                     values_fill = 0) |&gt; 
  count(OK, NOTE, WARNING, ERROR, FAILURE, name = &quot;packages&quot;, sort = TRUE)
download.file(&quot;https://cran.r-project.org/web/packages/packages.rds&quot;, 
              destfile = &quot;packages.RDS&quot;) # From the help page
ap &lt;- readRDS(&quot;packages.RDS&quot;)
head(ts) |&gt; 
  flextable() |&gt; 
  autofit()</code></pre>
<template id="ed0280c1-80b0-443a-90b7-fc8e2688527b"><style>
.tabwid table{
  border-spacing:0px !important;
  border-collapse:collapse;
  line-height:1;
  margin-left:auto;
  margin-right:auto;
  border-width: 0;
  display: table;
  margin-top: 1.275em;
  margin-bottom: 1.275em;
  border-color: transparent;
}
.tabwid_left table{
  margin-left:0;
}
.tabwid_right table{
  margin-right:0;
}
.tabwid td {
    padding: 0;
}
.tabwid a {
  text-decoration: none;
}
.tabwid thead {
    background-color: transparent;
}
.tabwid tfoot {
    background-color: transparent;
}
.tabwid table tr {
background-color: transparent;
}
</style><div class="tabwid"><style>.cl-b3160344{}.cl-b3100f52{font-family:'DejaVu Sans';font-size:11pt;font-weight:normal;font-style:normal;text-decoration:none;color:rgba(0, 0, 0, 1.00);background-color:transparent;}.cl-b3101f56{margin:0;text-align:right;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);padding-bottom:5pt;padding-top:5pt;padding-left:5pt;padding-right:5pt;line-height: 1;background-color:transparent;}.cl-b31050c0{width:51.1pt;background-color:transparent;vertical-align: middle;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-b31050ca{width:66.4pt;background-color:transparent;vertical-align: middle;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-b31050cb{width:36.4pt;background-color:transparent;vertical-align: middle;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-b31050d4{width:72.9pt;background-color:transparent;vertical-align: middle;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-b31050d5{width:59.1pt;background-color:transparent;vertical-align: middle;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-b31050d6{width:74.8pt;background-color:transparent;vertical-align: middle;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-b31050de{width:72.9pt;background-color:transparent;vertical-align: middle;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-b31050df{width:51.1pt;background-color:transparent;vertical-align: middle;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-b31050e8{width:36.4pt;background-color:transparent;vertical-align: middle;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-b31050e9{width:59.1pt;background-color:transparent;vertical-align: middle;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-b31050f2{width:74.8pt;background-color:transparent;vertical-align: middle;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-b31050f3{width:66.4pt;background-color:transparent;vertical-align: middle;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-b31050fc{width:66.4pt;background-color:transparent;vertical-align: middle;border-bottom: 2pt solid rgba(102, 102, 102, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-b31050fd{width:59.1pt;background-color:transparent;vertical-align: middle;border-bottom: 2pt solid rgba(102, 102, 102, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-b31050fe{width:72.9pt;background-color:transparent;vertical-align: middle;border-bottom: 2pt solid rgba(102, 102, 102, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-b3105106{width:36.4pt;background-color:transparent;vertical-align: middle;border-bottom: 2pt solid rgba(102, 102, 102, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-b3105107{width:51.1pt;background-color:transparent;vertical-align: middle;border-bottom: 2pt solid rgba(102, 102, 102, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-b3105108{width:74.8pt;background-color:transparent;vertical-align: middle;border-bottom: 2pt solid rgba(102, 102, 102, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-b3105110{width:59.1pt;background-color:transparent;vertical-align: middle;border-bottom: 2pt solid rgba(102, 102, 102, 1.00);border-top: 2pt solid rgba(102, 102, 102, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-b3105111{width:51.1pt;background-color:transparent;vertical-align: middle;border-bottom: 2pt solid rgba(102, 102, 102, 1.00);border-top: 2pt solid rgba(102, 102, 102, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-b3105112{width:72.9pt;background-color:transparent;vertical-align: middle;border-bottom: 2pt solid rgba(102, 102, 102, 1.00);border-top: 2pt solid rgba(102, 102, 102, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-b310511a{width:66.4pt;background-color:transparent;vertical-align: middle;border-bottom: 2pt solid rgba(102, 102, 102, 1.00);border-top: 2pt solid rgba(102, 102, 102, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-b310511b{width:74.8pt;background-color:transparent;vertical-align: middle;border-bottom: 2pt solid rgba(102, 102, 102, 1.00);border-top: 2pt solid rgba(102, 102, 102, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-b3105124{width:36.4pt;background-color:transparent;vertical-align: middle;border-bottom: 2pt solid rgba(102, 102, 102, 1.00);border-top: 2pt solid rgba(102, 102, 102, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}</style><table class='cl-b3160344'>
<thead><tr style="overflow-wrap:break-word;"><td class="cl-b3105124"><p class="cl-b3101f56"><span class="cl-b3100f52">OK</span></p></td><td class="cl-b3105111"><p class="cl-b3101f56"><span class="cl-b3100f52">NOTE</span></p></td><td class="cl-b310511b"><p class="cl-b3101f56"><span class="cl-b3100f52">WARNING</span></p></td><td class="cl-b3105110"><p class="cl-b3101f56"><span class="cl-b3100f52">ERROR</span></p></td><td class="cl-b310511a"><p class="cl-b3101f56"><span class="cl-b3100f52">FAILURE</span></p></td><td class="cl-b3105112"><p class="cl-b3101f56"><span class="cl-b3100f52">packages</span></p></td></tr></thead><tbody><tr style="overflow-wrap:break-word;"><td class="cl-b31050cb"><p class="cl-b3101f56"><span class="cl-b3100f52">13</span></p></td><td class="cl-b31050c0"><p class="cl-b3101f56"><span class="cl-b3100f52">0</span></p></td><td class="cl-b31050d6"><p class="cl-b3101f56"><span class="cl-b3100f52">0</span></p></td><td class="cl-b31050d5"><p class="cl-b3101f56"><span class="cl-b3100f52">0</span></p></td><td class="cl-b31050ca"><p class="cl-b3101f56"><span class="cl-b3100f52">0</span></p></td><td class="cl-b31050d4"><p class="cl-b3101f56"><span class="cl-b3100f52">8,574</span></p></td></tr><tr style="overflow-wrap:break-word;"><td class="cl-b31050cb"><p class="cl-b3101f56"><span class="cl-b3100f52">2</span></p></td><td class="cl-b31050c0"><p class="cl-b3101f56"><span class="cl-b3100f52">11</span></p></td><td class="cl-b31050d6"><p class="cl-b3101f56"><span class="cl-b3100f52">0</span></p></td><td class="cl-b31050d5"><p class="cl-b3101f56"><span class="cl-b3100f52">0</span></p></td><td class="cl-b31050ca"><p class="cl-b3101f56"><span class="cl-b3100f52">0</span></p></td><td class="cl-b31050d4"><p class="cl-b3101f56"><span class="cl-b3100f52">2,554</span></p></td></tr><tr style="overflow-wrap:break-word;"><td class="cl-b31050cb"><p class="cl-b3101f56"><span class="cl-b3100f52">0</span></p></td><td class="cl-b31050c0"><p class="cl-b3101f56"><span class="cl-b3100f52">13</span></p></td><td class="cl-b31050d6"><p class="cl-b3101f56"><span class="cl-b3100f52">0</span></p></td><td class="cl-b31050d5"><p class="cl-b3101f56"><span class="cl-b3100f52">0</span></p></td><td class="cl-b31050ca"><p class="cl-b3101f56"><span class="cl-b3100f52">0</span></p></td><td class="cl-b31050d4"><p class="cl-b3101f56"><span class="cl-b3100f52">1,583</span></p></td></tr><tr style="overflow-wrap:break-word;"><td class="cl-b31050cb"><p class="cl-b3101f56"><span class="cl-b3100f52">7</span></p></td><td class="cl-b31050c0"><p class="cl-b3101f56"><span class="cl-b3100f52">6</span></p></td><td class="cl-b31050d6"><p class="cl-b3101f56"><span class="cl-b3100f52">0</span></p></td><td class="cl-b31050d5"><p class="cl-b3101f56"><span class="cl-b3100f52">0</span></p></td><td class="cl-b31050ca"><p class="cl-b3101f56"><span class="cl-b3100f52">0</span></p></td><td class="cl-b31050d4"><p class="cl-b3101f56"><span class="cl-b3100f52">1,377</span></p></td></tr><tr style="overflow-wrap:break-word;"><td class="cl-b31050e8"><p class="cl-b3101f56"><span class="cl-b3100f52">12</span></p></td><td class="cl-b31050df"><p class="cl-b3101f56"><span class="cl-b3100f52">0</span></p></td><td class="cl-b31050f2"><p class="cl-b3101f56"><span class="cl-b3100f52">0</span></p></td><td class="cl-b31050e9"><p class="cl-b3101f56"><span class="cl-b3100f52">1</span></p></td><td class="cl-b31050f3"><p class="cl-b3101f56"><span class="cl-b3100f52">0</span></p></td><td class="cl-b31050de"><p class="cl-b3101f56"><span class="cl-b3100f52">633</span></p></td></tr><tr style="overflow-wrap:break-word;"><td class="cl-b3105106"><p class="cl-b3101f56"><span class="cl-b3100f52">12</span></p></td><td class="cl-b3105107"><p class="cl-b3101f56"><span class="cl-b3100f52">1</span></p></td><td class="cl-b3105108"><p class="cl-b3101f56"><span class="cl-b3100f52">0</span></p></td><td class="cl-b31050fd"><p class="cl-b3101f56"><span class="cl-b3100f52">0</span></p></td><td class="cl-b31050fc"><p class="cl-b3101f56"><span class="cl-b3100f52">0</span></p></td><td class="cl-b31050fe"><p class="cl-b3101f56"><span class="cl-b3100f52">503</span></p></td></tr></tbody></table></div></template>
<div class="flextable-shadow-host" id="48b5b1e8-2da6-4813-ae1a-130c6df35043"></div>
<script>
var dest = document.getElementById("48b5b1e8-2da6-4813-ae1a-130c6df35043");
var template = document.getElementById("ed0280c1-80b0-443a-90b7-fc8e2688527b");
var caption = template.content.querySelector("caption");
if(caption) {
  caption.style.cssText = "display:block;text-align:center;";
  var newcapt = document.createElement("p");
  newcapt.appendChild(caption)
  dest.parentNode.insertBefore(newcapt, dest.previousSibling);
}
var fantome = dest.attachShadow({mode: 'open'});
var templateContent = template.content;
fantome.appendChild(templateContent);
</script>

<p>We can see that the most common occurrences are some sort of OK and notes on checks. We can also check the <a href="https://cran.r-project.org/web/checks/check_summary.html">official results on CRAN</a>.</p>
<p>We can see that 45.73% of packages pass all checks without notes.</p>
<p>Now let’s see which of the notes or failures are due to intermittent issues.</p>
</div>
<div id="compare" class="section level1">
<h1>Compare</h1>
<p>First we need to make sure that we compare the right configurations. They must be the same machine, the same R version and the same svn revision between yesterday and today.</p>
<pre class="r"><code># Compare the previous flavor with today&#39;s
m_flavor &lt;- which(flavors_df$flavors %in% old_flavors$flavors)
m_version &lt;- which(flavors_df$version %in% old_flavors$version)
m_revision &lt;- which(flavors_df$revision %in% old_flavors$revision)
tm &lt;- table(c(m_flavor, m_version, m_revision))
compare &lt;- flavors_df$flavors[tm == 3] # Only missing the packages version</code></pre>
<div id="all-changes" class="section level2">
<h2>All changes</h2>
<p>Next, compare the status of the packages if the version of the package is the same.</p>
<pre class="r"><code># Find package on the flavors to compare that haven&#39;t changed versions
library(&quot;dplyr&quot;)
tcc &lt;- filter(tc, Flavor %in% compare) |&gt; 
  select(Flavor, Package, Version, Status) |&gt; 
  arrange(Flavor, Package)
ycc &lt;- filter(yc, Flavor %in% compare) |&gt; 
  select(Flavor, Package, Version, Status) |&gt; 
  arrange(Flavor, Package)

all_checks &lt;- merge(tcc, ycc, by = c(&quot;Flavor&quot;, &quot;Package&quot;), 
                    suffixes = c(&quot;.t&quot;, &quot;.y&quot;), all = TRUE) 

possible_packages &lt;- all_checks |&gt; 
  filter(Version.t == Version.y &amp; # Same version
           Status.t != Status.y &amp; # Different status
           !is.na(Status.y) &amp; # No new version or removed package
           !is.na(Status.t)) |&gt; 
  rename(Today = Status.t, Yesterday = Status.y)
possible_packages |&gt; 
  select(Package, Flavor, Today, Yesterday, -Version.t, -Version.y) |&gt; 
  arrange(Package, Flavor) |&gt; 
  flextable() |&gt; 
  autofit()</code></pre>
<template id="1c6ed24a-595d-4437-8906-313b57b282dd"><style>
.tabwid table{
  border-spacing:0px !important;
  border-collapse:collapse;
  line-height:1;
  margin-left:auto;
  margin-right:auto;
  border-width: 0;
  display: table;
  margin-top: 1.275em;
  margin-bottom: 1.275em;
  border-color: transparent;
}
.tabwid_left table{
  margin-left:0;
}
.tabwid_right table{
  margin-right:0;
}
.tabwid td {
    padding: 0;
}
.tabwid a {
  text-decoration: none;
}
.tabwid thead {
    background-color: transparent;
}
.tabwid tfoot {
    background-color: transparent;
}
.tabwid table tr {
background-color: transparent;
}
</style><div class="tabwid"><style>.cl-b47c21dc{}.cl-b4768808{font-family:'DejaVu Sans';font-size:11pt;font-weight:normal;font-style:normal;text-decoration:none;color:rgba(0, 0, 0, 1.00);background-color:transparent;}.cl-b4769802{margin:0;text-align:left;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);padding-bottom:5pt;padding-top:5pt;padding-left:5pt;padding-right:5pt;line-height: 1;background-color:transparent;}.cl-b476c32c{width:66.8pt;background-color:transparent;vertical-align: middle;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-b476c340{width:196.2pt;background-color:transparent;vertical-align: middle;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-b476c341{width:75.6pt;background-color:transparent;vertical-align: middle;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-b476c34a{width:74.8pt;background-color:transparent;vertical-align: middle;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-b476c34b{width:74.8pt;background-color:transparent;vertical-align: middle;border-bottom: 2pt solid rgba(102, 102, 102, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-b476c354{width:66.8pt;background-color:transparent;vertical-align: middle;border-bottom: 2pt solid rgba(102, 102, 102, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-b476c355{width:196.2pt;background-color:transparent;vertical-align: middle;border-bottom: 2pt solid rgba(102, 102, 102, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-b476c368{width:75.6pt;background-color:transparent;vertical-align: middle;border-bottom: 2pt solid rgba(102, 102, 102, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-b476c369{width:196.2pt;background-color:transparent;vertical-align: middle;border-bottom: 2pt solid rgba(102, 102, 102, 1.00);border-top: 2pt solid rgba(102, 102, 102, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-b476c372{width:75.6pt;background-color:transparent;vertical-align: middle;border-bottom: 2pt solid rgba(102, 102, 102, 1.00);border-top: 2pt solid rgba(102, 102, 102, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-b476c37c{width:74.8pt;background-color:transparent;vertical-align: middle;border-bottom: 2pt solid rgba(102, 102, 102, 1.00);border-top: 2pt solid rgba(102, 102, 102, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-b476c37d{width:66.8pt;background-color:transparent;vertical-align: middle;border-bottom: 2pt solid rgba(102, 102, 102, 1.00);border-top: 2pt solid rgba(102, 102, 102, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}</style><table class='cl-b47c21dc'>
<thead><tr style="overflow-wrap:break-word;"><td class="cl-b476c37d"><p class="cl-b4769802"><span class="cl-b4768808">Package</span></p></td><td class="cl-b476c369"><p class="cl-b4769802"><span class="cl-b4768808">Flavor</span></p></td><td class="cl-b476c37c"><p class="cl-b4769802"><span class="cl-b4768808">Today</span></p></td><td class="cl-b476c372"><p class="cl-b4769802"><span class="cl-b4768808">Yesterday</span></p></td></tr></thead><tbody><tr style="overflow-wrap:break-word;"><td class="cl-b476c32c"><p class="cl-b4769802"><span class="cl-b4768808">ctmm</span></p></td><td class="cl-b476c340"><p class="cl-b4769802"><span class="cl-b4768808">r-release-macos-x86_64</span></p></td><td class="cl-b476c34a"><p class="cl-b4769802"><span class="cl-b4768808">WARNING</span></p></td><td class="cl-b476c341"><p class="cl-b4769802"><span class="cl-b4768808">OK</span></p></td></tr><tr style="overflow-wrap:break-word;"><td class="cl-b476c354"><p class="cl-b4769802"><span class="cl-b4768808">fidap</span></p></td><td class="cl-b476c355"><p class="cl-b4769802"><span class="cl-b4768808">r-devel-linux-x86_64-fedora-gcc</span></p></td><td class="cl-b476c34b"><p class="cl-b4769802"><span class="cl-b4768808">WARNING</span></p></td><td class="cl-b476c368"><p class="cl-b4769802"><span class="cl-b4768808">OK</span></p></td></tr></tbody></table></div></template>
<div class="flextable-shadow-host" id="9d702ade-37ff-4bf5-a70f-e51e2da16ca7"></div>
<script>
var dest = document.getElementById("9d702ade-37ff-4bf5-a70f-e51e2da16ca7");
var template = document.getElementById("1c6ed24a-595d-4437-8906-313b57b282dd");
var caption = template.content.querySelector("caption");
if(caption) {
  caption.style.cssText = "display:block;text-align:center;";
  var newcapt = document.createElement("p");
  newcapt.appendChild(caption)
  dest.parentNode.insertBefore(newcapt, dest.previousSibling);
}
var fantome = dest.attachShadow({mode: 'open'});
var templateContent = template.content;
fantome.appendChild(templateContent);
</script>

<p>If the machine and R versions is the same but the check of the package is different there might be some discrepancy between the dependencies.</p>
<pre class="r"><code># Extract dependencies
dependencies &lt;- package_dependencies(unique(possible_packages$Package),
                                     # Should it check all the recursive dependencies or only direct?
                                     db = ap, # Only considering those dependencies on CRAN not bioconductor or Additional_repsitories. 
                                     recursive = TRUE, 
                                     which = c(&quot;Depends&quot;, &quot;Imports&quot;, &quot;LinkingTo&quot;, &quot;Suggests&quot;))

# Prepare to compare versions (as they are sorted by everything else we can compare directly)
intermittent_failures &lt;- rep(FALSE, length(dependencies))
names(intermittent_failures) &lt;- names(dependencies)
dep_0 &lt;- lengths(dependencies) == 0
intermittent_failures[dep_0] &lt;- TRUE</code></pre>
<p>If they do not have any recursive dependency on Depends, Imports, LinkingTo and Suggests they might be have some intermittent problems on the packages. These is only on dependencies on CRAN not outside like Bioconductor or other additional repositories (There are 99 packages with additional repositories).</p>
<p>If they have some dependencies and those dependencies didn’t change as far as we can tell then there might be some problems with random numbers or connectivity.</p>
<pre class="r"><code>for (pkg in names(intermittent_failures[!intermittent_failures])) {
  dep &lt;- dependencies[[pkg]]
  fl &lt;- possible_packages$Flavor[possible_packages$Package == pkg]
  intermittent_failures[pkg] &lt;- all_checks |&gt; 
    filter(Package %in% dep,
           Flavor %in% fl,
           Version.t == Version.y,
           Status.t != Status.y) |&gt; 
    nrow() == 0 # If packages outside || any(!dep %in% rownames(ap)) 
}
packages &lt;- names(intermittent_failures)[intermittent_failures]</code></pre>
<p>We finally show the differences on the status of those without any dependency change on version or status<a href="#fn1" class="footnote-ref" id="fnref1"><sup>1</sup></a>:</p>
<pre class="r"><code>filter(possible_packages, Package %in% packages) |&gt; 
  select(Package, Flavor, Today, Yesterday, -Version.t, -Version.y) |&gt; 
  flextable() |&gt; 
  autofit()</code></pre>
<template id="2e23f3b5-d6cd-4a28-9182-0f70a492dc28"><style>
.tabwid table{
  border-spacing:0px !important;
  border-collapse:collapse;
  line-height:1;
  margin-left:auto;
  margin-right:auto;
  border-width: 0;
  display: table;
  margin-top: 1.275em;
  margin-bottom: 1.275em;
  border-color: transparent;
}
.tabwid_left table{
  margin-left:0;
}
.tabwid_right table{
  margin-right:0;
}
.tabwid td {
    padding: 0;
}
.tabwid a {
  text-decoration: none;
}
.tabwid thead {
    background-color: transparent;
}
.tabwid tfoot {
    background-color: transparent;
}
.tabwid table tr {
background-color: transparent;
}
</style><div class="tabwid"><style>.cl-b5ca1454{}.cl-b5c485e8{font-family:'DejaVu Sans';font-size:11pt;font-weight:normal;font-style:normal;text-decoration:none;color:rgba(0, 0, 0, 1.00);background-color:transparent;}.cl-b5c496be{margin:0;text-align:left;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);padding-bottom:5pt;padding-top:5pt;padding-left:5pt;padding-right:5pt;line-height: 1;background-color:transparent;}.cl-b5c4c1e8{width:196.2pt;background-color:transparent;vertical-align: middle;border-bottom: 2pt solid rgba(102, 102, 102, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-b5c4c1f2{width:66.8pt;background-color:transparent;vertical-align: middle;border-bottom: 2pt solid rgba(102, 102, 102, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-b5c4c1f3{width:74.8pt;background-color:transparent;vertical-align: middle;border-bottom: 2pt solid rgba(102, 102, 102, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-b5c4c1f4{width:75.6pt;background-color:transparent;vertical-align: middle;border-bottom: 2pt solid rgba(102, 102, 102, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-b5c4c1fc{width:196.2pt;background-color:transparent;vertical-align: middle;border-bottom: 2pt solid rgba(102, 102, 102, 1.00);border-top: 2pt solid rgba(102, 102, 102, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-b5c4c1fd{width:66.8pt;background-color:transparent;vertical-align: middle;border-bottom: 2pt solid rgba(102, 102, 102, 1.00);border-top: 2pt solid rgba(102, 102, 102, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-b5c4c206{width:74.8pt;background-color:transparent;vertical-align: middle;border-bottom: 2pt solid rgba(102, 102, 102, 1.00);border-top: 2pt solid rgba(102, 102, 102, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-b5c4c207{width:75.6pt;background-color:transparent;vertical-align: middle;border-bottom: 2pt solid rgba(102, 102, 102, 1.00);border-top: 2pt solid rgba(102, 102, 102, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}</style><table class='cl-b5ca1454'>
<thead><tr style="overflow-wrap:break-word;"><td class="cl-b5c4c1fd"><p class="cl-b5c496be"><span class="cl-b5c485e8">Package</span></p></td><td class="cl-b5c4c1fc"><p class="cl-b5c496be"><span class="cl-b5c485e8">Flavor</span></p></td><td class="cl-b5c4c206"><p class="cl-b5c496be"><span class="cl-b5c485e8">Today</span></p></td><td class="cl-b5c4c207"><p class="cl-b5c496be"><span class="cl-b5c485e8">Yesterday</span></p></td></tr></thead><tbody><tr style="overflow-wrap:break-word;"><td class="cl-b5c4c1f2"><p class="cl-b5c496be"><span class="cl-b5c485e8">fidap</span></p></td><td class="cl-b5c4c1e8"><p class="cl-b5c496be"><span class="cl-b5c485e8">r-devel-linux-x86_64-fedora-gcc</span></p></td><td class="cl-b5c4c1f3"><p class="cl-b5c496be"><span class="cl-b5c485e8">WARNING</span></p></td><td class="cl-b5c4c1f4"><p class="cl-b5c496be"><span class="cl-b5c485e8">OK</span></p></td></tr></tbody></table></div></template>
<div class="flextable-shadow-host" id="677e29f4-83a0-4f37-84ca-0e6e303127c0"></div>
<script>
var dest = document.getElementById("677e29f4-83a0-4f37-84ca-0e6e303127c0");
var template = document.getElementById("2e23f3b5-d6cd-4a28-9182-0f70a492dc28");
var caption = template.content.querySelector("caption");
if(caption) {
  caption.style.cssText = "display:block;text-align:center;";
  var newcapt = document.createElement("p");
  newcapt.appendChild(caption)
  dest.parentNode.insertBefore(newcapt, dest.previousSibling);
}
var fantome = dest.attachShadow({mode: 'open'});
var templateContent = template.content;
fantome.appendChild(templateContent);
</script>

</div>
</div>
<div id="conclusion" class="section level1">
<h1>Conclusion</h1>
<pre class="r"><code>if (length(packages) &gt; 0) { 
  cat(&quot;This suggests that these packages might have some problems with random numbers or connectivity:\n\n&quot;) 
  if (any(dep_0)) {
    cat(&quot;\n# Packages with dependencies\n\n&quot;)
    cat(paste0(&quot; - &quot;, sort(packages[dependencies[dep_0]]), &quot;\n&quot;), sep = &quot;&quot;)
    cat(&quot;\n# Packages without dependencies\n\n&quot;)
    cat(paste0(&quot; - &quot;, sort(packages[dependencies[!dep_0]]), &quot;\n&quot;), sep = &quot;&quot;)
    
  } else {
    cat(paste0(&quot; - &quot;, sort(packages), &quot;\n&quot;), sep = &quot;&quot;)
  }
} else {
  cat(&quot;There are no packages detected with differences between yesterday and today attributable to intermittent failures.\n&quot;)
}</code></pre>
<p>This suggests that these packages might have some problems with random numbers or connectivity:</p>
<ul>
<li>fidap</li>
</ul>
</div>
<div class="footnotes">
<hr />
<ol>
<li id="fn1"><p>I think a new version might not propagate to check other packages until 24 hours later as checks might have already started for that day.<a href="#fnref1" class="footnote-back">↩︎</a></p></li>
</ol>
</div>



</div>
</div>

</div>

<script>

// add bootstrap table styles to pandoc tables
function bootstrapStylePandocTables() {
  $('tr.odd').parent('tbody').parent('table').addClass('table table-condensed');
}
$(document).ready(function () {
  bootstrapStylePandocTables();
});


</script>

<!-- tabsets -->

<script>
$(document).ready(function () {
  window.buildTabsets("TOC");
});

$(document).ready(function () {
  $('.tabset-dropdown > .nav-tabs > li').click(function () {
    $(this).parent().toggleClass('nav-tabs-open');
  });
});
</script>

<!-- code folding -->
<script>
$(document).ready(function () {
  window.initializeCodeFolding("hide" === "show");
});
</script>

<script>
$(document).ready(function ()  {

    // temporarily add toc-ignore selector to headers for the consistency with Pandoc
    $('.unlisted.unnumbered').addClass('toc-ignore')

    // move toc-ignore selectors from section div to header
    $('div.section.toc-ignore')
        .removeClass('toc-ignore')
        .children('h1,h2,h3,h4,h5').addClass('toc-ignore');

    // establish options
    var options = {
      selectors: "h1,h2,h3",
      theme: "bootstrap3",
      context: '.toc-content',
      hashGenerator: function (text) {
        return text.replace(/[.\\/?&!#<>]/g, '').replace(/\s/g, '_');
      },
      ignoreSelector: ".toc-ignore",
      scrollTo: 0
    };
    options.showAndHide = true;
    options.smoothScroll = true;

    // tocify
    var toc = $("#TOC").tocify(options).data("toc-tocify");
});
</script>

<!-- dynamically load mathjax for compatibility with self-contained -->
<script>
  (function () {
    var script = document.createElement("script");
    script.type = "text/javascript";
    script.src  = "https://mathjax.rstudio.com/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML";
    document.getElementsByTagName("head")[0].appendChild(script);
  })();
</script>

</body>
</html>
